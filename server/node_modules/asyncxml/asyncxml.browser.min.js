!function(){var t=function(e,r){var i=t.resolve(e,r||"/"),n=t.modules[i];if(!n)throw new Error("Failed to resolve module "+e+", tried "+i);var s=n._cached?n._cached:n();return s};t.paths=[],t.modules={},t.extensions=[".js",".coffee"],t._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0},t.resolve=function(){return function(e,r){function i(e){if(t.modules[e])return e;for(var r=0;r<t.extensions.length;r++){var i=t.extensions[r];if(t.modules[e+i])return e+i}}function n(e){e=e.replace(/\/+$/,"");var r=e+"/package.json";if(t.modules[r]){var n=t.modules[r](),s=n.browserify;if("object"==typeof s&&s.main){var o=i(l.resolve(e,s.main));if(o)return o}else if("string"==typeof s){var o=i(l.resolve(e,s));if(o)return o}else if(n.main){var o=i(l.resolve(e,n.main));if(o)return o}}return i(e+"/index")}function s(t,e){for(var r=o(e),s=0;s<r.length;s++){var l=r[s],h=i(l+"/"+t);if(h)return h;var u=n(l+"/"+t);if(u)return u}var h=i(t);return h?h:void 0}function o(t){var e;e="/"===t?[""]:l.normalize(t).split("/");for(var r=[],i=e.length-1;i>=0;i--)if("node_modules"!==e[i]){var n=e.slice(0,i+1).join("/")+"/node_modules";r.push(n)}return r}if(r||(r="/"),t._core[e])return e;var l=t.modules.path(),h=r||".";if(e.match(/^(?:\.\.?\/|\/)/)){var u=i(l.resolve(h,e))||n(l.resolve(h,e));if(u)return u}var a=s(e,h);if(a)return a;throw new Error("Cannot find module '"+e+"'")}}(),t.alias=function(r,i){var n=t.modules.path(),s=null;try{s=t.resolve(r+"/package.json","/")}catch(o){s=t.resolve(r,"/")}for(var l=n.dirname(s),h=e(t.modules),u=0;u<h.length;u++){var a=h[u];if(a.slice(0,l.length+1)===l+"/"){var c=a.slice(l.length);t.modules[i+c]=t.modules[l+c]}else a===l&&(t.modules[i]=t.modules[l])}},t.define=function(e,r){var i=t._core[e]?"":t.modules.path().dirname(e),n=function(e){return t(e,i)};n.resolve=function(e){return t.resolve(e,i)},n.modules=t.modules;var s={exports:{}};t.modules[e]=function(){return r.call(s.exports,n,s,s.exports,i,e),t.modules[e]._cached=s.exports,s.exports}};var e=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};"undefined"==typeof process&&(process={}),process.nextTick||(process.nextTick=function(t){setTimeout(t,0)}),process.title||(process.title="browser"),process.binding||(process.binding=function(e){if("evals"===e)return t("vm");throw new Error("No such module")}),process.cwd||(process.cwd=function(){return"."}),t.define("path",function(t,e,r){function i(t,e){for(var r=[],i=0;i<t.length;i++)e(t[i],i,t)&&r.push(t[i]);return r}function n(t,e){for(var r=0,i=t.length;i>=0;i--){var n=t[i];"."==n?t.splice(i,1):".."===n?(t.splice(i,1),r++):r&&(t.splice(i,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}var s=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;r.resolve=function(){for(var t="",e=!1,r=arguments.length;r>=-1&&!e;r--){var s=r>=0?arguments[r]:process.cwd();"string"==typeof s&&s&&(t=s+"/"+t,e="/"===s.charAt(0))}return t=n(i(t.split("/"),function(t){return!!t}),!e).join("/"),(e?"/":"")+t||"."},r.normalize=function(t){var e="/"===t.charAt(0),r="/"===t.slice(-1);return t=n(i(t.split("/"),function(t){return!!t}),!e).join("/"),t||e||(t="."),t&&r&&(t+="/"),(e?"/":"")+t},r.join=function(){var t=Array.prototype.slice.call(arguments,0);return r.normalize(i(t,function(t){return t&&"string"==typeof t}).join("/"))},r.dirname=function(t){var e=s.exec(t)[1]||"",r=!1;return e?1===e.length||r&&e.length<=3&&":"===e.charAt(1)?e:e.substring(0,e.length-1):"."},r.basename=function(t,e){var r=s.exec(t)[2]||"";return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},r.extname=function(t){return s.exec(t)[3]||""}}),t.define("/asyncxml.js",function(t,e){!function(){var r,i,n;n=t("./xml"),i=n.Tag,r=n.Builder,this.asyncxml=e.exports={Tag:i,Builder:r}}.call(this)}),t.define("/xml.js",function(t,e){!function(){var r,i,n,s,o,l,h,u,a,c,p,d,v,f=[].slice,m=function(t,e){return function(){return t.apply(e,arguments)}},y={}.hasOwnProperty,g=function(t,e){function r(){this.constructor=t}for(var i in e)y.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};n=t("events").EventEmitter,v=t("./util"),u=v.new_attrs,p=v.safe,i=["add","attr","data","text","raw","show","hide","remove","replace","close"],c=function(t,e,r,i){var n;return"object"!=typeof e?(n=[{},e,r],e=n[0],r=n[1],i=n[2]):null==e&&(e={}),null==i&&(i={}),[t,e,r,i]},l=function(t,e){var r,n,s,o,l,h;return n={},s=function(r){return null==n[r]?"function"==typeof e.on?e.on(r,n[r]=function(){return t.emit.apply(t,[r].concat(f.call(arguments)))}):void 0:void 0},h=function(){var t,e,r,n;for(n=[],e=0,r=i.length;r>e;e++)t=i[e],n.push(s(t));return n},r=function(){var t,r,s,o,l;for(l=[],s=0,o=i.length;o>s;s++)t=i[s],null!=(r=n[t])?("function"==typeof e.removeListener&&e.removeListener(t,r),l.push(n[t]=void 0)):l.push(void 0);return l},o=function(i,n){return this===e?(t.removeListener("removed",o),t.removeListener("replaced",l),e.removeListener("replaced",l),r()):i?t.once("removed",o):(e.removeListener("removed",o),t.removeListener("replaced",l),e.removeListener("replaced",l),r(),n?void 0:e.remove())},l=function(r){return this===e?(o.call(t,!1,!0),e=r,h()):(t.removeListener("removed",o),t=r),r.once("replaced",l),r.once("removed",o)},h(),e.once("removed",o),t.once("removed",o),e.once("replaced",l),t.once("replaced",l)},o=function(t,e){var r,i=this;return null==t?null!=e?e.call(this):void 0:(r=function(t,r){var n,s;return null==(n=r.builder)&&(r.builder=i.builder),null==(s=r.parent)&&(r.parent=i),r.builder.opts.pretty=i.builder.opts.pretty,r.builder.level=i.level,l(i,r),i.emit("add",i,r),i.emit("new",r),i.isempty=!1,r.closed&&"approving"!==r.closed&&"function"==typeof r.emit&&r.emit("close",r),"function"==typeof r.emit&&r.emit("added",i),null!=e?e.call(i,r):void 0},t.parent=this,null!=this.builder?this.builder.approve("new",this,t,r):r(this,t))},a=function(){var t,e,r,i,n,l,h,u,a,p,d,v,f;return u=c.apply(null,arguments),n=u[0],e=u[1],i=u[2],h=u[3],null==(a=h.level)&&(h.level=this.level+1),null==(p=h.pretty)&&(h.pretty=null!=(d=this.builder)?d.opts.pretty:void 0),h.builder=this.builder,t=null!=(v=null!=(f=this.builder)?f.Tag:void 0)?v:s,l=new t(n,e,null,h),null!=i&&(r=function(t){return t.children(i)}),o.call(this,l,r),l},d=function(){var t,e,r,i,n,s;return s=c.apply(null,arguments),r=s[0],t=s[1],e=s[2],i=s[3],n=function(){return null!=e&&this.children(e),this.end()},a.call(this,r,t,n,i)},s=function(t){function e(){this.ready=m(this.ready,this),this.remove=m(this.remove,this),this.replace=m(this.replace,this),this.add=m(this.add,this),this.toString=m(this.toString,this),this.end=m(this.end,this),this.hide=m(this.hide,this),this.show=m(this.show,this),this.root=m(this.root,this),this.up=m(this.up,this),this.write=m(this.write,this),this.raw=m(this.raw,this),this.text=m(this.text,this),this.children=m(this.children,this),this.removeAttr=m(this.removeAttr,this),this.attr=m(this.attr,this);var t,e,r,i,n;r=c.apply(null,arguments),this.name=r[0],this.attrs=r[1],t=r[2],e=r[3],this.pretty=null!=(i=e.pretty)?i:!1,this.level=null!=(n=e.level)?n:0,this.builder=e.builder,this.setMaxListeners(0),this.parent=this.builder,this.closed=!1,this.writable=!0,this.hidden=!1,this.isready=!1,this.isempty=!0,this.isselfclosing=!1,this.content="",this.$tag=d,this.tag=a,this.children(t)}return g(e,t),e.prototype.attr=function(t,e){var r,i,n,s;if("string"==typeof t){if(void 0===e)return r=null!=(s=this.builder)?s.query("attr",this,t):void 0,void 0!==r&&(this.attrs[t]=r),r;this.attrs[t]=e,this.emit("attr",this,t,e)}else for(i in t)y.call(t,i)&&(n=t[i],void 0!==n?this.attrs[i]=n:delete this.attr[t],this.emit("attr",this,i,n));return this},e.prototype.removeAttr=function(){var t,e,r,i;for(e=1<=arguments.length?f.call(arguments,0):[],r=0,i=e.length;i>r;r++)t=e[r],delete this.attrs[t],this.emit("attr",this,t,void 0);return this},e.prototype.children=function(t){return null==t?this:(this.parent?"function"==typeof t?t.call(this):this.text(t):this.once("added",function(){return this.children(t)}),this)},e.prototype.text=function(t,e){var r;return null==e&&(e={}),null==t?this.content=null!=(r=this.builder)?r.query("text",this):void 0:(e.escape&&(t=p(t)),e.append?this.content+=t:this.content=t,this.emit("text",this,t),this.isempty=!1,this)},e.prototype.raw=function(t,e){return null==e&&(e={}),this.emit("raw",this,t),this.isempty=!1,this},e.prototype.write=function(t,e){var r,i,n;return n=null!=e?e:{},i=n.escape,r=n.append,i&&(t=p(t)),t&&this.emit("data",this,""+t),(null!=r?r:!0)?this.content+=t:this.content=t,this.isempty=!1,!0},e.prototype.up=function(t){var e,r;return null==t&&(t={}),null==(r=t.end)&&(t.end=!0),e=this.parent,t.end&&this.end.apply(this,arguments),e},e.prototype.root=function(){var t,e;return null!=(t=null!=(e=this.parent)?e.root():void 0)?t:this},e.prototype.show=function(){return this.hidden=!1,this.emit("show",this),this},e.prototype.hide=function(){return this.hidden=!0,this.emit("hide",this),this},e.prototype.end=function(){var t,e=this;return this.closed?"approving"===this.closed||("removed"===this.closed?(this.emit("end"),this.writable=!1):(this.closed=!0,this.writable=!1)):(this.isempty&&(this.isempty=!1,this.isselfclosing=!0),this.closed="approving",t=function(){var t;return e.closed=!0,e.emit("close",e),e.writable=!1,t=function(){return e.isready=!0,e.emit("ready")},null!=e.builder?e.builder.approve("ready",e,t):t(),e.emit("end")},null!=this.builder?this.builder.approve("end",this,t):t(this,this)),this},e.prototype.toString=function(){return"<"+this.name+u(this.attrs)+(this.isempty?"/>":this.closed?">"+this.content+"</"+this.name+">":">"+this.content)},e.prototype.add=function(t,e){var r,i;return r=null!=(i=this.builder)?i.query("tag",this,t):void 0,null==r&&null==this.builder&&(r=t),o.call(this,r,e),this},e.prototype.replace=function(t){var e,r,i,n;return e=null!=(r=this.builder)?r.query("tag",this,t):void 0,null==e&&null==this.builder&&(e=t),this===e?this:(null==(i=e.parent)&&(e.parent=this.parent),null==(n=e.builder)&&(e.builder=this.builder),this.emit("replace",this,e),this.builder===e.builder&&(this.builder=null),this.parent=null,this.emit("replaced",e),e)},e.prototype.remove=function(t){return null==t&&(t={}),t.soft||(this.closed="removed"),this.emit("remove",this,t),this!==this.builder&&(this.builder=null),this.parent=null,this.emit("removed",t.soft),t.soft||this.removeAllListeners(),this},e.prototype.ready=function(t){return this.isready?(null!=t&&t.call(this),this):(this.once("ready",t),this)},e}(n),h=function(t,e,r){return"attr"===t?e.attrs[r]:"text"===t?e.content:"tag"===t?r:void 0},r=function(t){function e(t){var e,r,i;this.opts=null!=t?t:{},this.removeAllListeners=m(this.removeAllListeners,this),this.ready=m(this.ready,this),this.end=m(this.end,this),this.add=m(this.add,this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.remove=this.remove.bind(this),this.replace=this.replace.bind(this),this.builder=this,this.checkers={},this.closed=!1,this.isempty=!0,this.writable=!0,null==(r=(e=this.opts).pretty)&&(e.pretty=!1),this.level=null!=(i=this.opts.level)?i:-1,this.setMaxListeners(0),this.Tag=s,this.tag=a,this.$tag=d}return g(e,t),e.prototype.root=s.prototype.root,e.prototype.show=s.prototype.show,e.prototype.hide=s.prototype.hide,e.prototype.remove=s.prototype.remove,e.prototype.replace=s.prototype.replace,e.prototype.query=h,e.prototype.toString=function(){return"[object AsyncXMLBuilder]"},e.prototype.add=function(t,e){var r;return r=this.query("tag",this,t),null==r&&(r=t),o.call(this,r,e),this},e.prototype.end=function(){return this.closed=!0,this.writable=!1,this.emit("close",this),this.emit("end"),this},e.prototype.ready=function(t){return this.closed===!0?null!=t?t.call(this):void 0:this.once("end",t)},e.prototype.removeAllListeners=function(t){return delete this.checkers,this.query=h,n.prototype.removeAllListeners.call(this,t)},e.prototype.register=function(t,e){var r,i;if("new"!==t&&"end"!==t&&"ready"!==t)throw new Error("only type 'ready', 'new' or 'end' allowed.");return null==(i=(r=this.checkers)[t])&&(r[t]=[]),this.checkers[t].push(e)},e.prototype.approve=function(t,e,r,i){var n,s,o,l,h;switch(n=null!=(o=null!=(l=this.checkers[t])?"function"==typeof l.slice?l.slice():void 0:void 0)?o:[],t){case"new":s=function(t){var r,o;return r=null!=(o=n.shift())?o:i,r(e,t,s)};break;case"ready":case"end":h=[e,r],r=h[0],i=h[1],s=function(t){var e,r;return e=null!=(r=n.shift())?r:i,e(t,s)};break;default:throw new Error("type '"+t+"' not supported.")}return s(r)},e}(n),e.exports={Tag:s,Builder:r}}.call(this)}),t.define("events",function(t,e,r){process.EventEmitter||(process.EventEmitter=function(){});var i=r.EventEmitter=process.EventEmitter,n="function"==typeof Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.toString.call(t)},s=10;i.prototype.setMaxListeners=function(t){this._events||(this._events={}),this._events.maxListeners=t},i.prototype.emit=function(t){if("error"===t&&(!this._events||!this._events.error||n(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var e=this._events[t];if(!e)return!1;if("function"==typeof e){switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:var r=Array.prototype.slice.call(arguments,1);e.apply(this,r)}return!0}if(n(e)){for(var r=Array.prototype.slice.call(arguments,1),i=e.slice(),s=0,o=i.length;o>s;s++)i[s].apply(this,r);return!0}return!1},i.prototype.addListener=function(t,e){if("function"!=typeof e)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",t,e),this._events[t])if(n(this._events[t])){if(!this._events[t].warned){var r;r=void 0!==this._events.maxListeners?this._events.maxListeners:s,r&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),console.trace())}this._events[t].push(e)}else this._events[t]=[this._events[t],e];else this._events[t]=e;return this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){var r=this;return r.on(t,function i(){r.removeListener(t,i),e.apply(this,arguments)}),this},i.prototype.removeListener=function(t,e){if("function"!=typeof e)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[t])return this;var r=this._events[t];if(n(r)){var i=r.indexOf(e);if(0>i)return this;r.splice(i,1),0==r.length&&delete this._events[t]}else this._events[t]===e&&delete this._events[t];return this},i.prototype.removeAllListeners=function(t){return t&&this._events&&this._events[t]&&(this._events[t]=null),this},i.prototype.listeners=function(t){return this._events||(this._events={}),this._events[t]||(this._events[t]=[]),n(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]}}),t.define("/util.js",function(t,e){!function(){var t,r,i,n,s,o;i=Array.isArray,r=function(t){var e,r;return e=t.level,r=t.pretty,r&&0!==e?(r===!0&&(r="  "),r):""},t=function(t,e){var r,i;return r=t.level,i=t.pretty,i?"\n"===(null!=e?e[(null!=e?e.length:void 0)-1]:void 0)?e:""+e+"\n":e},s=function(e,i){return(null!=e?e.pretty:void 0)?""+r(e)+t(e,i):i},n=function(t){var e,r,i;return null==t&&(t={}),r=function(){var r;r=[];for(e in t)i=t[e],null!=i?("number"!=typeof i&&(i='"'+i+'"'),r.push(""+e+"="+i)):r.push(""+e);return r}(),r.length&&r.unshift(""),r.join(" ")},o=function(t){return String(t).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},e.exports={prettify:s,indent:r,new_attrs:n,safe:o}}.call(this)})}.call(this);